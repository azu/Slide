<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>JavaScript Testing FrameworkのBusterJSを使う</title>
    <!-- Styles -->
    
    <style type="text/css" media="print">
      * {
    margin: 0;
    padding: 0;
}

@page {
    size: landscape;
}

body {
    font: 100% "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    padding: 0;
    margin: 0;
}

div.slide {
    min-width: 800px;
    min-height: 600px;
    padding: 1em;
    overflow: hidden;
    page-break-after: always;
    border: 1px solid black;
    border-radius: 20px;
}

div.slide div.inner {
    width: 800px;
    height: 600px;
    margin: auto;
    display: table-cell;
}

h1 {
    font-size: 2.4em;
}

h2 {
    font-size: 1.4em;
}

h3 {
    margin: 1em 0;
}

ul {
    margin: 0;
    padding: 0;
}

p, li, pre {
    margin: 1em 0;
}

li {
    margin-left: 2em;
}

a {
    color: #000000;
}

pre, code {
    max-width: 800px;
    background: #eee;
    font-family: Monaco, monospace;
    font-size: 90%;
}

pre {
    padding: .2em .5em;
    overflow: hidden;
    border-radius: .8em;
}

code {
    padding: 0 .2em;
}

.slide header:only-child h1 {
  line-height: 180%;
  text-align: center;
  display: table-cell;
  vertical-align: middle;
  height: 600px;
  width: 800px;
  font-size: 48px;
  margin-top:100px;
  margin-bottom:100px;
}

#toc, #help, .slide aside, .slide footer, .slide .notes,
.presenter_notes, #current_presenter_notes, #presenter_note {
  display: none;
}

    </style>
    <style type="text/css" media="screen, projection">
      body {
    font: 14px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    background: #fff;
    padding: 0;
    margin: 0;
    overflow: hidden;
}

div.presentation {
    position: absolute;
    width: 100%;
    display: table-cell;
    vertical-align: middle;
    height: 100%;
    background: inherit;
}

div.slides, body.expose div.slides.nocontext {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    position: absolute;
    display: block;
}

div.slides.nocontext {
    width: 900px;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
    left: auto;
    top: auto;
}

div.slide {
    display: none;
    position: absolute;
    overflow: hidden;
    width: 900px;
    min-height: 850px;
    height: 90%;
    left: 50%;
    top: 50%;
    margin-top: -350px;
    background: -webkit-gradient(linear, left bottom, left top, from(#fff), to(#ddd));
    background-color: #eee;
    background: -moz-linear-gradient(bottom, #fff, #ddd);
    -webkit-transition: margin 0.25s ease-in-out;
    -moz-transition: margin 0.25s ease-in-out;
    -o-transition: margin 0.25s ease-in-out;
    border-top-right-radius: 20px;
    -moz-border-radius-topright: 20px;
    -webkit-border-top-right-radius: 20px;
    border-bottom-left-radius: 0px;
    -moz-border-radius-bottomleft: 0px;
    -webkit-border-bottom-left-radius: 0px;
    border-top-left-radius: 20px;
    -moz-border-radius-topleft: 20px;
    -webkit-border-top-left-radius: 20px;
    border-bottom-right-radius: 0px;
    -moz-border-radius-bottomright: 0px;
    -webkit-border-bottom-right-radius: 0px;

}

div.slide p {
    font-size: 20px;
}

.slide.far-past {
    display: block;
    margin-left: -2400px;
}

.slide.past {
    display: block;
    margin-left: -1400px;
}

.slide.current {
    display: block;
    margin-left: -450px;
}

.slide.future {
    display: block;
    margin-left: 500px;
}

.slide.far-future {
    display: block;
    margin-left: 1500px;
}

body.three-d div.slides {
    -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
    -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
    -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
}

/* Content */

header:not(:only-child) {
    font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    font-weight: normal;
    font-size: 50px;
    letter-spacing: -.05em;
    color: white;
    color: black;
    text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
    position: absolute;
    left: 30px;
    top: 25px;
    margin: 0;
    padding: 0;
}

header h1, header h2, header h3, header h4, header h5, header h6 {
    display: inline;
    font-size: 100%;
    font-weight: normal;
    padding: 0;
    margin: 0;
}

header h2:first-child {
    margin-top: 0;
}

section, .slide header:only-child h1 {
    font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    color: #3f3f3f;
    text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
    margin-left: 30px;
    margin-right: 30px;
    margin-top: 100px;
    display: block;
    overflow: hidden;
}

section img.align-center {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

section img.align-right {
    display: block;
    margin-left: auto;
    margin-right: 0;
}

section img.align-left {
    display: block;
    margin-right: auto;
    margin-left: 0;
}

a {
    color: inherit;
    display: inline-block;
    text-decoration: none;
    line-height: 110%;
    border-bottom: 2px solid #3f3f3f;
}

pre {
    font-size: 16px;
    font-family: Monaco, Courier, monospace;
}

li {
    padding: 10px 0;
    font-size: 20px;
}

.slide header:only-child h1 {
    line-height: 180%;
    text-align: center;
    display: table-cell;
    vertical-align: middle;
    height: 700px;
    width: 900px;
    font-size: 50px;
    margin-top: 100px;
    margin-bottom: 100px;
}

.sidebar {
    background: -webkit-gradient(linear, top right, bottom right, from(#dde), to(#fff));
    -webkit-transition: margin 0.25s ease-in-out;
    background-color: #eee;
    background: -moz-linear-gradient(right, #dde, #fff);
    border-right: 5px solid #ccd;
    z-index: 9999999;
    height: 100%;
    overflow: hidden;
    top: 0;
    position: absolute;
    display: block;
    margin: 0;
    margin-left: -400px;
    padding: 10px 16px;
    overflow: auto;
    -webkit-transition: margin 0.2s ease-in-out;
    -moz-transition: margin 0.2s ease-in-out;
    -o-transition: margin 0.2s ease-in-out;
}

.sidebar h2 {
    text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
    margin: 0 0 16px;
    padding: 0;
}

.sidebar table {
    width: 100%;
    margin: 0;
    padding: 0;
    border-collapse: collapse;
}

.sidebar table caption {
    display: none;
}

.sidebar tr {
    margin: 2px 0;
    border-bottom: 1px solid #ccc;
}

.sidebar th {
    text-align: left;
    font-weight: normal;
    max-width: 300px;
    overflow: hidden;
}

.sidebar tr.sub th {
    text-indent: 20px;
}

.sidebar td {
    text-align: right;
    min-width: 20px;
}

.sidebar a {
    display: block;
    text-decoration: none;
    border-bottom: none;
    padding: 4px 0;
}

.sidebar tr.active {
    background: #ff0;
}

aside {
    display: none;
}

aside.source {
    position: absolute;
    bottom: 6px;
    left: 10px;
    text-indent: 10px;
}

aside.page_number {
    position: absolute;
    bottom: 6px;
    right: 10px;
    text-indent: 10px;
}

.notes {
    display: none;
    padding: 10px;
    background: #ccc;
    border-radius: 10px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
}

div.slide p.notes {
    font-size: 90%;
}

img {
    display: block;
    margin: auto;
}

/* Expose */

body.expose div.slides {
    float: left;
    position: relative;
    overflow: auto;
    margin-bottom: 10px;
}

body.expose div.slide {
    display: block;
    float: left;
    position: relative;
    left: auto !important;
    top: auto !important;
    margin: 10px !important;
    -webkit-transition: none;
    -moz-transition: none;
    -o-transition: none;
    -moz-transform: scale(.33, .33);
    -moz-transform-origin: 0 0;
    -webkit-transform: scale(.33, .33);
    -webkit-transform-origin: 0 0;
    -o-transform: scale(.33, .33);
    -o-transform-origin: 0 0;
    -webkit-transition: none;
    -moz-transition: none;
    -o-transition: none;
    cursor: pointer;
}

body.expose div.slide:hover {
    background: -webkit-gradient(linear, left bottom, left top, from(#bdd), to(#fff));
    background-color: #eee;
    background: -moz-linear-gradient(bottom, #bdd, #fff);
}

body.expose .slide-wrapper {
    float: left;
    position: relative;
    margin: .5%;
    width: 300px;
    height: 233px;
}

body.expose .slide footer {
}

body.expose .slide .inner {
}

body.expose .slide.far-past,
body.expose .slide.past,
body.expose .slide.future,
body.expose .slide.far-future {
    margin-left: 0;
}

body.expose .slide.current {
    background: -webkit-gradient(linear, left bottom, left top, from(#ddb), to(#fff));
    background-color: #eee;
    background: -moz-linear-gradient(bottom, #ddb, #fff);
    border: 16px solid #fff;
    -moz-transform: scale(.315, .315);
    -moz-transform-origin: 0 0;
    -webkit-transform: scale(.315, .315);
    -webkit-transform-origin: 0 0;
    -o-transform: scale(.315, .315);
    -o-transform-origin: 0 0;
}

/* Pygments default theme */
.hll {
    background-color: #ffffcc
}

.c {
    color: #408080;
    font-style: italic
}

/* Comment */
.err {
    border: 1px solid #FF0000
}

/* Error */
.k {
    color: #008000;
    font-weight: bold
}

/* Keyword */
.o {
    color: #666666
}

/* Operator */
.cm {
    color: #408080;
    font-style: italic
}

/* Comment.Multiline */
.cp {
    color: #BC7A00
}

/* Comment.Preproc */
.c1 {
    color: #408080;
    font-style: italic
}

/* Comment.Single */
.cs {
    color: #408080;
    font-style: italic
}

/* Comment.Special */
.gd {
    color: #A00000
}

/* Generic.Deleted */
.ge {
    font-style: italic
}

/* Generic.Emph */
.gr {
    color: #FF0000
}

/* Generic.Error */
.gh {
    color: #000080;
    font-weight: bold
}

/* Generic.Heading */
.gi {
    color: #00A000
}

/* Generic.Inserted */
.go {
    color: #808080
}

/* Generic.Output */
.gp {
    color: #000080;
    font-weight: bold
}

/* Generic.Prompt */
.gs {
    font-weight: bold
}

/* Generic.Strong */
.gu {
    color: #800080;
    font-weight: bold
}

/* Generic.Subheading */
.gt {
    color: #0040D0
}

/* Generic.Traceback */
.kc {
    color: #008000;
    font-weight: bold
}

/* Keyword.Constant */
.kd {
    color: #008000;
    font-weight: bold
}

/* Keyword.Declaration */
.kn {
    color: #008000;
    font-weight: bold
}

/* Keyword.Namespace */
.kp {
    color: #008000
}

/* Keyword.Pseudo */
.kr {
    color: #008000;
    font-weight: bold
}

/* Keyword.Reserved */
.kt {
    color: #B00040
}

/* Keyword.Type */
.m {
    color: #666666
}

/* Literal.Number */
.s {
    color: #BA2121
}

/* Literal.String */
.na {
    color: #7D9029
}

/* Name.Attribute */
.nb {
    color: #008000
}

/* Name.Builtin */
.nc {
    color: #0000FF;
    font-weight: bold
}

/* Name.Class */
.no {
    color: #880000
}

/* Name.Constant */
.nd {
    color: #AA22FF
}

/* Name.Decorator */
.ni {
    color: #999999;
    font-weight: bold
}

/* Name.Entity */
.ne {
    color: #D2413A;
    font-weight: bold
}

/* Name.Exception */
.nf {
    color: #0000FF
}

/* Name.Function */
.nl {
    color: #A0A000
}

/* Name.Label */
.nn {
    color: #0000FF;
    font-weight: bold
}

/* Name.Namespace */
.nt {
    color: #008000;
    font-weight: bold
}

/* Name.Tag */
.nv {
    color: #19177C
}

/* Name.Variable */
.ow {
    color: #AA22FF;
    font-weight: bold
}

/* Operator.Word */
.w {
    color: #bbbbbb
}

/* Text.Whitespace */
.mf {
    color: #666666
}

/* Literal.Number.Float */
.mh {
    color: #666666
}

/* Literal.Number.Hex */
.mi {
    color: #666666
}

/* Literal.Number.Integer */
.mo {
    color: #666666
}

/* Literal.Number.Oct */
.sb {
    color: #BA2121
}

/* Literal.String.Backtick */
.sc {
    color: #BA2121
}

/* Literal.String.Char */
.sd {
    color: #BA2121;
    font-style: italic
}

/* Literal.String.Doc */
.s2 {
    color: #BA2121
}

/* Literal.String.Double */
.se {
    color: #BB6622;
    font-weight: bold
}

/* Literal.String.Escape */
.sh {
    color: #BA2121
}

/* Literal.String.Heredoc */
.si {
    color: #BB6688;
    font-weight: bold
}

/* Literal.String.Interpol */
.sx {
    color: #008000
}

/* Literal.String.Other */
.sr {
    color: #BB6688
}

/* Literal.String.Regex */
.s1 {
    color: #BA2121
}

/* Literal.String.Single */
.ss {
    color: #19177C
}

/* Literal.String.Symbol */
.bp {
    color: #008000
}

/* Name.Builtin.Pseudo */
.vc {
    color: #19177C
}

/* Name.Variable.Class */
.vg {
    color: #19177C
}

/* Name.Variable.Global */
.vi {
    color: #19177C
}

/* Name.Variable.Instance */
.il {
    color: #666666
}

/* Literal.Number.Integer.Long */

/* Presenter Mode */

body.presenter_view div.slide {
    display: inline;
    position: absolute;
    overflow: hidden;
    -moz-transform: scale(.5, .5);
    -moz-transform-origin: 0 0;
    -webkit-transform: scale(.5, .5);
    -webkit-transform-origin: 0 0;
    -o-transform: scale(.5, .5);
    -o-transform-origin: 0 0;
    margin-top: -300px;
}

body.presenter_view .slide.far-past {
    display: block;
    margin-left: -1500px;
}

body.presenter_view .slide.past {
    display: block;
    margin-left: -975px;
}

body.presenter_view .slide.current {
    display: block;
    margin-left: -475px;
    border: 8px solid maroon;
    z-index: 2;
}

body.presenter_view .slide.future {
    display: block;
    margin-left: 25px;
    z-index: 1;
}

body.presenter_view .slide.far-future {
    display: block;
    margin-left: 525px;
}

body.presenter_view div#current_presenter_notes {
    visibility: visible;
    display: block;
    position: absolute;
    overflow: auto;
    vertical-align: middle;
    left: 50%;
    top: 50%;
    margin-left: -475px;
    margin-top: 100px;
    z-index: 2;
    width: 950px;
    border-style: solid;
    height: 30%;
    background-color: silver;
}

body.presenter_view div#current_presenter_notes section {
    font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    color: black;
    text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
    display: block;
    overflow: visible;
    position: relative;
    background-color: #fffeff;
    height: 120px;
    margin-right: 30px;
    margin-top: 60px;
    margin-left: 30px;
    padding-right: 10px;
    padding-left: 10px;
    padding-top: 10px;
}

body.presenter_view div#current_presenter_notes section p {
    margin: 0;
}

body.presenter_view div#current_presenter_notes h1 {
    font-size: 50%;
    display: block;
}

div#current_presenter_notes {
    display: none;
}

div.slide div.presenter_notes {
    display: none;
}

#blank {
    position: absolute;
    top: 0;
    left: 0;
    background-color: black;
    width: 100%;
    height: 100%;
    z-index: 64;
    display: none;
}

.slide blockquote, .slide pre {
    background-color: rgba(0, 0, 0, 0.02);
    border-bottom: 1px solid #CCCCCC;
    border-top: 1px solid #CCCCCC;
    clear: both;
    color: inherit;
    font: 100%/1.25 "Monaco", "Andale Mono", monospace;
    margin: 5px 0;
    padding: 5px 20px;
    position: relative;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.slide pre:hover {
    font-size: 150%;
    max-height: 25em;
    overflow-y: auto;
}

.slide p > code,.slide li > code {
    background-color: #FEE9CC;
    color: rgba(0, 0, 0, 0.75);
    padding: 1px 3px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    -o-border-radius: 3px;
    -ms-border-radius: 3px;
    border-radius: 3px;
}
    </style>
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script>
      function main() {
    // Since we don't have the fallback of attachEvent and
    // other IE only stuff we won't try to run JS for IE.
    // It will run though when using Google Chrome Frame
    if (document.all) {
        return;
    }

    var currentSlideNo;
    var notesOn = false;
    var expanded = false;
    var hiddenContext = false;
    var blanked = false;
    var slides = document.getElementsByClassName('slide');
    var touchStartX = 0;
    var spaces = /\s+/, a1 = [''];
    var tocOpened = false;
    var helpOpened = false;
    var overviewActive = false;
    var modifierKeyDown = false;
    var scale = 1;
    var showingPresenterView = false;
    var presenterViewWin = null;
    var isPresenterView = false;

    var str2array = function (s) {
        if (typeof s == 'string' || s instanceof String) {
            if (s.indexOf(' ') < 0) {
                a1[0] = s;
                return a1;
            } else {
                return s.split(spaces);
            }
        }
        return s;
    };

    var trim = function (str) {
        return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };

    var addClass = function (node, classStr) {
        classStr = str2array(classStr);
        var cls = ' ' + node.className + ' ';
        for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(' ' + c + ' ') < 0) {
                cls += c + ' ';
            }
        }
        node.className = trim(cls);
    };

    var removeClass = function (node, classStr) {
        var cls;
        if (!node) {
            throw 'no node provided';
        }
        if (classStr !== undefined) {
            classStr = str2array(classStr);
            cls = ' ' + node.className + ' ';
            for (var i = 0, len = classStr.length; i < len; ++i) {
                cls = cls.replace(' ' + classStr[i] + ' ', ' ');
            }
            cls = trim(cls);
        } else {
            cls = '';
        }
        if (node.className != cls) {
            node.className = cls;
        }
    };

    var getSlideEl = function (slideNo) {
        if (slideNo > 0) {
            return slides[slideNo - 1];
        } else {
            return null;
        }
    };

    var getSlideTitle = function (slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var headers = el.getElementsByTagName('header');
            if (headers.length > 0) {
                return el.getElementsByTagName('header')[0].innerText;
            }
        }
        return null;
    };

    var getSlidePresenterNote = function (slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var n = el.getElementsByClassName('presenter_notes');
            if (n.length > 0) {
                return n[0];
            }
        }
        return null;
    };

    var changeSlideElClass = function (slideNo, className) {
        var el = getSlideEl(slideNo);
        if (el) {
            removeClass(el, 'far-past past current future far-future');
            addClass(el, className);
        }
    };

    var updateSlideClasses = function (updateOther) {
        window.location.hash = (isPresenterView ? "presenter" : "slide") + currentSlideNo;

        for (var i = 1; i < currentSlideNo - 1; i++) {
            changeSlideElClass(i, 'far-past');
        }

        changeSlideElClass(currentSlideNo - 1, 'past');
        changeSlideElClass(currentSlideNo, 'current');
        changeSlideElClass(currentSlideNo + 1, 'future');

        for (i = currentSlideNo + 2; i < slides.length + 1; i++) {
            changeSlideElClass(i, 'far-future');
        }

        highlightCurrentTocLink();

        processContext();

        document.getElementsByTagName('title')[0].innerText = getSlideTitle(currentSlideNo);

        updatePresenterNotes();

        if (updateOther) {
            updateOtherPage();
        }
    };

    var updatePresenterNotes = function () {
        if (!isPresenterView) {
            return;
        }

        var existingNote = document.getElementById('current_presenter_notes');
        var currentNote = getSlidePresenterNote(currentSlideNo).cloneNode(true);
        currentNote.setAttribute('id', 'presenter_note');

        existingNote.replaceChild(currentNote, document.getElementById('presenter_note'));
    };

    var highlightCurrentTocLink = function () {
        var toc = document.getElementById('toc');

        if (toc) {
            var tocRows = toc.getElementsByTagName('tr');
            for (var i = 0; i < tocRows.length; i++) {
                removeClass(tocRows.item(i), 'active');
            }

            var currentTocRow = document.getElementById('toc-row-' + currentSlideNo);
            if (currentTocRow) {
                addClass(currentTocRow, 'active');
            }
        }
    };

    var updateOtherPage = function () {
        if (!showingPresenterView) {
            return;
        }

        var w = isPresenterView ? window.opener : presenterViewWin;
        w.postMessage('slide#' + currentSlideNo, '*');
    };

    var nextSlide = function () {
        if (currentSlideNo < slides.length) {
            currentSlideNo++;
        }
        updateSlideClasses(true);
    };

    var prevSlide = function () {
        if (currentSlideNo > 1) {
            currentSlideNo--;
        }
        updateSlideClasses(true);
    };

    var showNotes = function () {
        var notes = getSlideEl(currentSlideNo).getElementsByClassName('notes');
        for (var i = 0, len = notes.length; i < len; i++) {
            notes.item(i).style.display = (notesOn) ? 'none' : 'block';
        }
        notesOn = !notesOn;
    };

    var showSlideNumbers = function () {
        var asides = document.getElementsByClassName('page_number');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showSlideSources = function () {
        var asides = document.getElementsByClassName('source');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showToc = function () {
        if (helpOpened) {
            showHelp();
        }
        var toc = document.getElementById('toc');
        if (toc) {
            toc.style.marginLeft = tocOpened ? '-' + (toc.clientWidth + 20) + 'px' : '0px';
            tocOpened = !tocOpened;
        }
        updateOverview();
    };

    var showHelp = function () {
        if (tocOpened) {
            showToc();
        }

        var help = document.getElementById('help');

        if (help) {
            help.style.marginLeft = helpOpened ? '-' + (help.clientWidth + 20) + 'px' : '0px';
            helpOpened = !helpOpened;
        }
    };

    var showPresenterView = function () {
        if (isPresenterView) {
            return;
        }

        if (showingPresenterView) {
            presenterViewWin.close();
            presenterViewWin = null;
            showingPresenterView = false;
        } else {
            presenterViewWin = open(window.location.pathname + "#presenter" + currentSlideNo, 'presenter_notes',
                    'directories=no,location=no,toolbar=no,menubar=no,copyhistory=no');
            showingPresenterView = true;
        }
    };

    var switch3D = function () {
        if (document.body.className.indexOf('three-d') == -1) {
            document.getElementsByClassName('presentation')[0].style.webkitPerspective = '1000px';
            document.body.className += ' three-d';
        } else {
            window.setTimeout('document.getElementsByClassName(\'presentation\')[0].style.webkitPerspective = \'0\';', 2000);
            document.body.className = document.body.className.replace(/three-d/, '');
        }
    };

    var toggleOverview = function () {
        if (!overviewActive) {
            addClass(document.body, 'expose');
            overviewActive = true;
            setScale(1);
        } else {
            removeClass(document.body, 'expose');
            overviewActive = false;
            if (expanded) {
                setScale(scale);    // restore scale
            }
        }
        processContext();
        updateOverview();
    };

    var updateOverview = function () {
        try {
            var presentation = document.getElementsByClassName('presentation')[0];
        } catch (e) {
            return;
        }

        if (isPresenterView) {
            var action = overviewActive ? removeClass : addClass;
            action(document.body, 'presenter_view');
        }

        var toc = document.getElementById('toc');

        if (!toc) {
            return;
        }

        if (!tocOpened || !overviewActive) {
            presentation.style.marginLeft = '0px';
            presentation.style.width = '100%';
        } else {
            presentation.style.marginLeft = toc.clientWidth + 'px';
            presentation.style.width = (presentation.clientWidth - toc.clientWidth) + 'px';
        }
    };

    var computeScale = function () {
        var cSlide = document.getElementsByClassName('current')[0];
        var sx = cSlide.clientWidth / window.innerWidth;
        var sy = cSlide.clientHeight / window.innerHeight;
        return 1 / Math.max(sx, sy);
    };

    var setScale = function (scale) {
        var presentation = document.getElementsByClassName('slides')[0];
        var transform = 'scale(' + scale + ')';
        presentation.style.MozTransform = transform;
        presentation.style.WebkitTransform = transform;
        presentation.style.OTransform = transform;
        presentation.style.msTransform = transform;
        presentation.style.transform = transform;
    };

    var expandSlides = function () {
        if (overviewActive) {
            return;
        }
        if (expanded) {
            setScale(1);
            expanded = false;
        } else {
            scale = computeScale();
            setScale(scale);
            expanded = true;
        }
    };

    var showContext = function () {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            removeClass(presentation, 'nocontext');
        } catch (e) {
        }
    };

    var hideContext = function () {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            addClass(presentation, 'nocontext');
        } catch (e) {
        }
    };

    var processContext = function () {
        if (hiddenContext) {
            hideContext();
        } else {
            showContext();
        }
    };

    var toggleContext = function () {
        hiddenContext = !hiddenContext;
        processContext();
    };

    var toggleBlank = function () {
        blank_elem = document.getElementById('blank');

        blank_elem.style.display = blanked ? 'none' : 'block';

        blanked = !blanked;
    };

    var isModifierKey = function (keyCode) {
        switch (keyCode) {
            case 16: // shift
            case 17: // ctrl
            case 18: // alt
            case 91: // command
                return true;
                break;
            default:
                return false;
                break;
        }
    };

    var checkModifierKeyUp = function (event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = false;
        }
    };

    var checkModifierKeyDown = function (event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = true;
        }
    };

    var handleBodyKeyDown = function (event) {
        switch (event.keyCode) {
            case 13: // Enter
                if (overviewActive) {
                    toggleOverview();
                }
                break;
            case 27: // ESC
                toggleOverview();
                break;
            case 37: // left arrow
            case 33: // page up
                event.preventDefault();
                prevSlide();
                break;
            case 39: // right arrow
            case 32: // space
            case 34: // page down
                event.preventDefault();
                nextSlide();
                break;
            case 50: // 2
                if (!modifierKeyDown) {
                    showNotes();
                }
                break;
            case 51: // 3
                if (!modifierKeyDown && !overviewActive) {
                    switch3D();
                }
                break;
            case 190: // .
            case 48: // 0
            case 66: // b
                if (!modifierKeyDown && !overviewActive) {
                    toggleBlank();
                }
                break;
            case 67: // c
                if (!modifierKeyDown && !overviewActive) {
                    toggleContext();
                }
                break;
            case 69: // e
                if (!modifierKeyDown && !overviewActive) {
                    expandSlides();
                }
                break;
            case 72: // h
                showHelp();
                break;
            case 78: // n
                if (!modifierKeyDown && !overviewActive) {
                    showSlideNumbers();
                }
                break;
            case 80: // p
                if (!modifierKeyDown && !overviewActive) {
                    showPresenterView();
                }
                break;
            case 83: // s
                if (!modifierKeyDown && !overviewActive) {
                    showSlideSources();
                }
                break;
            case 84: // t
                showToc();
                break;
        }
    };

    var handleWheel = function (event) {
        if (tocOpened || helpOpened || overviewActive) {
            return;
        }

        var delta = 0;

        if (!event) {
            event = window.event;
        }

        if (event.wheelDelta) {
            delta = event.wheelDelta / 120;
            if (window.opera) delta = -delta;
        } else if (event.detail) {
            delta = -event.detail / 3;
        }

        if (delta && delta < 0) {
            nextSlide();
        } else if (delta) {
            prevSlide();
        }
    };

    var addSlideClickListeners = function () {
        for (var i = 0; i < slides.length; i++) {
            var slide = slides.item(i);
            slide.num = i + 1;
            slide.addEventListener('click', function (e) {
                if (overviewActive) {
                    currentSlideNo = this.num;
                    toggleOverview();
                    updateSlideClasses(true);
                    e.preventDefault();
                }
                return false;
            }, true);
        }
    };

    var addRemoteWindowControls = function () {
        window.addEventListener("message", function (e) {
            if (e.data.indexOf("slide#") != -1) {
                currentSlideNo = Number(e.data.replace('slide#', ''));
                updateSlideClasses(false);
            }
        }, false);
    };

    var addTouchListeners = function () {
        document.addEventListener('touchstart', function (e) {
            touchStartX = e.touches[0].pageX;
        }, false);
        document.addEventListener('touchend', function (e) {
            var pixelsMoved = touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (pixelsMoved > SWIPE_SIZE) {
                nextSlide();
            }
            else if (pixelsMoved < -SWIPE_SIZE) {
                prevSlide();
            }
        }, false);
    };

    var addTocLinksListeners = function () {
        var toc = document.getElementById('toc');
        if (toc) {
            var tocLinks = toc.getElementsByTagName('a');
            for (var i = 0; i < tocLinks.length; i++) {
                tocLinks.item(i).addEventListener('click', function (e) {
                    currentSlideNo = Number(this.attributes['href'].value.replace('#slide', ''));
                    updateSlideClasses(true);
                    e.preventDefault();
                }, true);
            }
        }
    };

    // initialize

    (function () {
        if (window.location.hash == "") {
            currentSlideNo = 1;
        } else if (window.location.hash.indexOf("#presenter") != -1) {
            currentSlideNo = Number(window.location.hash.replace('#presenter', ''));
            isPresenterView = true;
            showingPresenterView = true;
            presenterViewWin = window;
            addClass(document.body, 'presenter_view');
        } else {
            currentSlideNo = Number(window.location.hash.replace('#slide', ''));
        }

        document.addEventListener('keyup', checkModifierKeyUp, false);
        document.addEventListener('keydown', handleBodyKeyDown, false);
        document.addEventListener('keydown', checkModifierKeyDown, false);
        document.addEventListener('DOMMouseScroll', handleWheel, false);

        window.onmousewheel = document.onmousewheel = handleWheel;
        window.onresize = expandSlides;

        for (var i = 0, el; el = slides[i]; i++) {
            addClass(el, 'slide far-future');
        }
        updateSlideClasses(false);

        // add support for finger events (filter it by property detection?)
        addTouchListeners();

        addTocLinksListeners();

        addSlideClickListeners();

        addRemoteWindowControls();
    })();
}

$(window).load(function () {

    $(".line").each(function () {
        var target = $(this);
        var fontSize = parseInt(target.css("font-size"), 10);

        var temp = $("<div/>").css({
            "display":"none",
            "font-family":target.css("font-family"),
            "font-size":fontSize
        }).text(target.text()).appendTo("body");

        var targetWidth = target.width();
        var tempWidth = temp.width();

        while (tempWidth < targetWidth) {
            fontSize *= (targetWidth / tempWidth);
            temp.css("font-size", fontSize + "px");
            tempWidth = temp.width();
        }

        while (tempWidth >= targetWidth) {
            fontSize--;
            temp.css("font-size", fontSize + "px");
            tempWidth = temp.width();
        }

        target.css("font-size", fontSize + "px");
        temp.remove();
    });
});


    </script>
    
    
    <!-- /Javascripts -->

<link rel="canonical" href="https://azu.github.io/slide/Kamakura/busterJS.html">
<link rel="author" href="https://www.hatena.ne.jp/efcl/" />
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>JavaScript Testing FrameworkのBusterJSを使う</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              1/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>鎌倉BusterJS</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              2/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>自己紹介</h1></header>
            
            
            <section><p><img alt="アイコン" src="https://github.com/azu/slide/raw/master/offline_study/simple320_320.png" /></p>
<ul>
<li>Name : azu</li>
<li>Twitter : @<a href="https://twitter.com/azu_re">azu_re</a></li>
<li>Website: <a href="http://efcl.info/" title="Web scratch">Web scratch</a>, <a href="http://jser.info/" title="JSer.info">JSer.info</a>, <a href="http://meme.efcl.info/" title="MemeTodo">MemeTodo</a>, <a href="http://efcl.info/adiary/" title="prog*sig">prog*sig</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              3/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><a href="http://busterjs.org/" title="Buster.JS">BusterJS</a>とは</h1></header>
            
            
            <section><ul>
<li>NodeJS製のJavaScript Testing Framweork<ul>
<li>JsTestDriverによく似ている作り</li>
</ul>
</li>
<li>August Lilleaas と Christian Johansenが中心に作成(Githubで公開)</li>
<li><img alt="Christian Johansen" src="https://img.skitch.com/20120323-qtr1r5t5puy6is28w9fnfke7g3.png" /></li>
<li>Christian Johansen<ul>
<li>TDDJS(テスト駆動JavaScript)の著者、Sinon.js作者</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              4/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>BusterJSの今</h2></header>
            
            
            <section><p>まだベータ段階なので、遊び程度で使うのが丁度いい</p>
<ul>
<li>Lastest : <a href="http://busterjs.org/changelog/beta2/" title="Buster.JS Beta 2">Buster.JS Beta 2</a><ul>
<li>まだベータ版、Windowsもまだ未サポート</li>
<li>開発者向け for <a href="http://busterjs.org/docs/developers/" title="Developers">Developers</a></li>
</ul>
</li>
<li>Update Information<ul>
<li><a href="https://twitter.com/#!/buster_js" title="@buster_js">@buster_js</a></li>
<li><a href="http://statusnet.busterjs.org/" title="buster (buster) - Buster.JS">buster (buster) - Buster.JS</a></li>
<li><a href="https://github.com/busterjs" title="busterjs (Buster.JS)">busterjs (Buster.JS)</a> Github</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              5/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>BusterJSのテスト実行手順</h1></header>
            
            
            <section><ol>
<li><code>$ npm install -g buster</code></li>
<li>config(<code>buster.js</code>)ファイルを作成<ul>
<li>実行環境で <code>browser</code> or <code>node</code> を指定できる(ハイブリッドも可能)</li>
</ul>
</li>
<li>テストを書く</li>
<li>browserで実行する場合 <code>buster server</code> でローカルサーバを起動<ul>
<li>http://localhost:1111/capture にブラウザでアクセスしてキャプチャー</li>
</ul>
</li>
<li><code>$ buster test</code> でconfigを元にファイルを読み込んでテストを実行 </li>
</ol>
<p>QUnitやJasmineのように静的なHTMLとしてテストを実行する<code>$ buster static</code>もあります</p>
<ul>
<li><a href="http://cjohansen.no/talks/2011/busterjs/#93" title="Hands-on Unit Testing with Buster.JS">Hands-on Unit Testing with Buster.JS</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              6/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>BusterJS と JsTestDriver</h1></header>
            
            
            <section><p>否定のassertionsの書き方が違う。
BusterJSは<code>refute</code>メソッドを使う</p>
<div class="highlight"><pre><span class="c1">// JsTestDriver</span>
<span class="nx">assertNoException</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">something</span><span class="p">()</span>
<span class="p">});</span>
<span class="c1">// BusterJS</span>
<span class="nx">refute</span><span class="p">.</span><span class="nx">exception</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">somthing</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>

<p>引数の順番が違う事がある</p>
<div class="highlight"><pre><span class="c1">// JsTestDriver</span>
<span class="nx">assertClassName</span><span class="p">(</span><span class="s2">&quot;js-tab-controller&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">tabs</span><span class="p">);</span> 
<span class="c1">// BusterJS</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">className</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">tabs</span><span class="p">,</span> <span class="s2">&quot;js-tab-controller&quot;</span><span class="p">);</span>
</pre></div>

<p>BusterJSはドキュメントが多い</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              7/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>類似点</h2></header>
            
            
            <section><ul>
<li>✓ ブラウザでテストするのに、Captureする仕組み<ul>
<li>これは色々参考にしたと言っていた</li>
</ul>
</li>
<li>✓ メソッドの命名規則(refuteとかで違う点はあるけど大体似てる)</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              8/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>設定ファイル</h1></header>
            
            
            <section><p>設定ファイルもJavaScriptで定義する(<code>buster.js</code>というファイル名がよく使われる)</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">;</span>

<span class="nx">config</span><span class="p">[</span><span class="s2">&quot;My tests&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">env</span><span class="o">:</span> <span class="s2">&quot;browser&quot;</span><span class="p">,</span>        <span class="c1">// or &quot;node&quot;</span>
    <span class="nx">sources</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;lib/mylib.js&quot;</span><span class="p">,</span> <span class="c1">// Paths are relative to config file</span>
        <span class="s2">&quot;src/**/*.js&quot;</span>   <span class="c1">// Glob patterns supported</span>
    <span class="p">],</span>
    <span class="nx">tests</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;test/*-test.js&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<ul>
<li><a href="http://busterjs.org/docs/configuration/" title="Buster.JS Configuration">Buster.JS Configuration</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              9/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>基本的なテストの書き方</h1></header>
            
            
            <section><ul>
<li>buster.testCaseで囲む</li>
<li>setUp,tearDown</li>
<li><code>"テスト名" : function(){ /* test code */ }</code></li>
</ul>
<p>strtime test</p>
<div class="highlight"><pre><span class="nx">buster</span><span class="p">.</span><span class="nx">testCase</span><span class="p">(</span><span class="s2">&quot;Date strftime test&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">setUp</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="s2">&quot;%Y should be &#39;2009&#39;&quot;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">assert</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">strftime</span><span class="p">(</span><span class="s2">&quot;%Y&quot;</span><span class="p">),</span> <span class="s2">&quot;2009&quot;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="s2">&quot;%y should be &#39;09&#39;&quot;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">assert</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">strftime</span><span class="p">(</span><span class="s2">&quot;%y&quot;</span><span class="p">),</span> <span class="s2">&quot;09&quot;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">// ...</span>
<span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              10/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>assert vs refute</h1></header>
            
            
            <section><ul>
<li>assert - trueであるならテストをパス</li>
<li>refute - falseであるならテストをパス<ul>
<li>assert &lt;-&gt; refure</li>
</ul>
</li>
</ul>
<p>assertとrefute以下にそれぞれ同じ用途のメソッドが入ってる</p>
<div class="highlight"><pre><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="c1">// PASS</span>
<span class="nx">refure</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="c1">// PASS</span>

<span class="nx">assert</span><span class="p">.</span><span class="nx">same</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">);</span><span class="c1">// PASS</span>
<span class="nx">refute</span><span class="p">.</span><span class="nx">same</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">);</span><span class="c1">//===で比較するとfalseなので PASS</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              11/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>BDD Syntax</h1></header>
            
            
            <section><ul>
<li>BDD的な書き方も用意されている</li>
</ul>
<p>e.g)</p>
<div class="highlight"><pre><span class="nx">buster</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">expose</span><span class="p">();</span> <span class="c1">// describe/it/itEventually/before/afterがグローバルに定義される</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A module&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;states the obvious&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              12/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>testCaseのネスト</h1></header>
            
            
            <section><p>ネストしたtestCase</p>
<div class="highlight"><pre><span class="nx">buster</span><span class="p">.</span><span class="nx">testCase</span><span class="p">(</span><span class="s2">&quot;Nested setup and teardown call order&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">setUp</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Setup #1&quot;</span><span class="p">)</span>  <span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">tearDown</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Teardown #1&quot;</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="s2">&quot;test #1&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Test #1&quot;</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="s2">&quot;context&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">setUp</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
                <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Setup #2&quot;</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="s2">&quot;test #2&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Test #2&quot;</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="s2">&quot;context&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="nx">setUp</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
                <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Setup #3&quot;</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="nx">tearDown</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
                <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Teardown #3&quot;</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="s2">&quot;//test #3&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
                <span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Test #3&quot;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              13/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>実行結果</h2></header>
            
            
            <section><p>// から始まるテストは✎(コンソールだと-)となり実行されずに保留される</p>
<pre><code>✎ Nested setup and teardown call order context context test #3
✓ Nested setup and teardown call order context test #2
  [LOG] Setup #1  // &lt;= ネストの親
  [LOG] Setup #2                
  [LOG] Test #2
  [LOG] Teardown #1 // &lt;= ネストの親

✓ Nested setup and teardown call order test #1
  [LOG] Setup #1
  [LOG] Test #1
  [LOG] Teardown #1

1 test case, 2 tests, 2 assertions, 0 failures, 0 errors, 0 timeouts, 1 deferred
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              14/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>コンソールAPI</h1></header>
            
            
            <section><p><code>buster.log()</code>を使う。<code>buster.console.log()</code>も同等</p>
<p><code>jstestdriver.console.log()</code> に類似するコンソール出力用API</p>
<div class="highlight"><pre><span class="nx">buster</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">buster</span><span class="p">.</span><span class="nx">console</span><span class="p">);</span>
<span class="c1">// =&gt; コンソールにフォーマットされて出力される</span>
<span class="p">[</span><span class="nx">LOG</span><span class="p">]</span> <span class="p">{</span>
      <span class="nx">contexts</span><span class="o">:</span> <span class="p">{</span> <span class="nx">log</span><span class="o">:</span> <span class="p">[</span><span class="kc">undefined</span><span class="p">]</span> <span class="p">},</span>
      <span class="nx">debug</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span>
      <span class="nx">format</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span>
      <span class="nx">level</span><span class="o">:</span> <span class="s2">&quot;debug&quot;</span><span class="p">,</span>
      <span class="nx">levels</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;warn&quot;</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="s2">&quot;debug&quot;</span><span class="p">],</span>
      <span class="nx">listeners</span><span class="o">:</span> <span class="p">{</span> <span class="nx">log</span><span class="o">:</span> <span class="p">[</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{}]</span> <span class="p">},</span>
      <span class="nx">log</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span>
      <span class="nx">logFunctions</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">warn</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{}</span>
    <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              15/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>コンソール出力の整形</h2></header>
            
            
            <section><p><code>buster.log()</code>はpretty printされた形で出力される</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">innerFn</span><span class="p">(){</span>
    <span class="nx">doSomthing</span><span class="p">();</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">:</span> <span class="p">{</span><span class="nx">b1</span> <span class="o">:</span> <span class="s2">&quot;in&quot;</span><span class="p">},</span> <span class="nx">c</span> <span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]};</span>
<span class="nx">buster</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="s2">&quot;\n&quot;</span><span class="p">,</span> <span class="nx">obj</span><span class="p">);</span>
<span class="p">[</span><span class="nx">LOG</span><span class="p">]</span> <span class="kd">function</span> <span class="nx">innerFn</span><span class="p">()</span> <span class="p">{}</span> 
 <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="p">{</span> <span class="nx">b1</span><span class="o">:</span> <span class="s2">&quot;in&quot;</span> <span class="p">},</span> <span class="nx">c</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="p">}</span>
</pre></div>

<p>Buster.JS core modulesの<a href="http://busterjs.org/docs/format/">buster.format</a>を使って整形処理が行われている</p>
<ul>
<li><a href="http://busterjs.org/docs/evented-logger/">buster.eventedLogger</a></li>
<li><a href="http://busterjs.org/docs/format/">buster.format</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              16/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>テスト結果の出力形式</h1></header>
            
            
            <section><p><code>$ buster test -h reporters</code></p>
<p>実行結果をどういう形式で出力するかを決定できる.
独自の出力形式もJavaScriptで比較的簡単に作成できる</p>
<ul>
<li>specification<ul>
<li>結果をそれぞれ細かくコンソール表示</li>
</ul>
</li>
<li>jsonProxy</li>
<li>quiet</li>
<li>xml</li>
<li>tap</li>
<li>dots<ul>
<li>デフォルトのコンソール出力</li>
</ul>
</li>
<li>html</li>
<li>teamcity<ul>
<li>JetBrainsのCIツール</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              17/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>非同期テスト</h1></header>
            
            
            <section><p>テストケースにそのまま非同期コードを書くと、assertされる前にテストが終わってします</p>
<div class="highlight"><pre><span class="s2">&quot;test not asynchronous&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
 <span class="err">✖</span> <span class="nx">My</span> <span class="nx">thing</span> <span class="nx">test</span> <span class="nx">not</span> <span class="nx">asynchronous</span>
<span class="nx">No</span> <span class="nx">assertions</span><span class="o">!</span>
</pre></div>

<ul>
<li>テストケースの引数で渡したdoneが実行されるまでテストケースが終了しない</li>
<li>assertをおこなってdoneを実行したら終わり</li>
</ul>
<p>正しいやり方の例  <br />
</p>
<div class="highlight"><pre><span class="s2">&quot;test asynchronous&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">){</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="nx">done</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
<span class="err">✓</span> <span class="nx">My</span> <span class="nx">thing</span> <span class="nx">test</span> <span class="nx">asynchronous</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              18/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>非同期テスト - Promiss</h2></header>
            
            
            <section><p>Promissオブジェクトをテストケースで返して非同期テストを行う</p>
<div class="highlight"><pre><span class="s2">&quot;test async, use promiss&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// then メソッドの有無が重要</span>
        <span class="nx">then</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">callbacks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">callbacks</span> <span class="o">||</span> <span class="p">[];</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">buster</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">callbacks</span> <span class="o">=</span> <span class="nx">promise</span><span class="p">.</span><span class="nx">callbacks</span> <span class="o">||</span> <span class="p">[];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">callbacks</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">){</span>
            <span class="nx">callbacks</span><span class="p">[</span><span class="nx">i</span><span class="p">]();</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
    <span class="c1">// thenを持ったものを返す =&gt; promissと判断 (isPromise)</span>
    <span class="k">return</span> <span class="nx">promise</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<ul>
<li>自分でわざわざpromissを定義するのは面倒<ul>
<li>When.js がビルドインで使えるので、when.jsでpromissを使う</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              19/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>When.js</h2></header>
            
            
            <section><ul>
<li>CommonJS Promises/Aの実装ライブラリ </li>
<li><a href="https://github.com/cujojs/when" title="when.js">when.js</a></li>
<li>BusterJSに統合されている</li>
</ul>
<p>When.js を使って先ほどと同じ非同期テストを書くと</p>
<div class="highlight"><pre><span class="s2">&quot;test async ,use when.js&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">deferred</span> <span class="o">=</span> <span class="nx">when</span><span class="p">.</span><span class="nx">defer</span><span class="p">();</span>

    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">buster</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="nx">deferred</span><span class="p">.</span><span class="nx">resolver</span><span class="p">.</span><span class="nx">resolve</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              20/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Sinon.js</h1></header>
            
            
            <section><ul>
<li>Christian Johansenによるモック、スタブライブラリ</li>
<li><a href="http://sinonjs.org/" title="Sinon.JS">Sinon.JS</a><ul>
<li>BusterJSに統合されている</li>
</ul>
</li>
</ul>
<p>assertionにはSinon.jsと連動したものもいくつか含まれている。</p>
<div class="highlight"><pre><span class="s2">&quot;test should call all observers&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">spy1</span> <span class="o">=</span> <span class="nx">sinon</span><span class="p">.</span><span class="nx">spy</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observable</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">spy1</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observable</span><span class="p">.</span><span class="nx">notify</span><span class="p">();</span>

    <span class="nx">assert</span><span class="p">.</span><span class="nx">called</span><span class="p">(</span><span class="nx">spy1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              21/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>testbed</h1></header>
            
            
            <section><p><img alt="test page" src="https://img.skitch.com/20120323-ffhak1xwc6irwfqwbwys6gfw9r.png" /></p>
<ul>
<li>テストを実行する場所について定義できる<ul>
<li>指定したHTML内でテストを実行する</li>
<li>指定したパスにアクセスするとJSONを返すAPIを定義する etc</li>
<li>モックを別ファイルに分けることが可能</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              22/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>テストを実行する場所</h2></header>
            
            
            <section><ul>
<li>今のところは、configでresourcesの"/"を指定することで、testbedを差し替えできる。</li>
<li>将来的にはtestbedという設定プロパティ自体ができる予定</li>
</ul>
<p>buster.js ...</p>
<div class="highlight"><pre><span class="s2">&quot;resources&quot;</span> <span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="c1">// testbed</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file&quot;</span> <span class="o">:</span> <span class="s2">&quot;fixtures/testbed.html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;headers&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;Content-Type&quot;</span> <span class="o">:</span> <span class="s2">&quot;text/html&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="c1">// JSON APIのモック</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/res.json&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span> <span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="nx">text</span> <span class="o">:</span> <span class="s2">&quot;テキストー&quot;</span><span class="p">,</span>
            <span class="nx">id</span> <span class="o">:</span> <span class="mi">4</span>
        <span class="p">}),</span>
        <span class="s2">&quot;headers&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;Content-Type&quot;</span> <span class="o">:</span> <span class="s2">&quot;application/json&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<ul>
<li><a href="http://busterjs.org/docs/configuration/" title="Buster.JS Configuration">Buster.JS Configuration</a><ul>
<li>proxyやバックエンドの設定などもっと本番に近い環境で動かすことも多分できる</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              23/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>BusterJSの拡張</h1></header>
            
            
            <section><ul>
<li>BusterJSにextensionの仕組みが備わってる</li>
<li><a href="http://busterjs.org/docs/extensions/" title="Buster extensions">Buster extensions</a></li>
</ul>
<p>Configのextensionsプロパティで必要な拡張を読み込む</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">;</span>

<span class="nx">config</span><span class="p">[</span><span class="s2">&quot;Browser tests&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">rootPath</span><span class="o">:</span> <span class="s2">&quot;../&quot;</span><span class="p">,</span>
    <span class="nx">sources</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;src/**/*.js&quot;</span><span class="p">]</span>
    <span class="nx">tests</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;test/**/*.js&quot;</span><span class="p">],</span>
    <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;buster-jstestdriver&quot;</span><span class="p">)]</span>
<span class="p">};</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              24/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>BusterJSの拡張紹介</h1></header>
            
            
            <section><ul>
<li>buster-jstestdriver<ul>
<li>JsTestDriverのテストケースを実行できる</li>
<li><code>:DOC</code>形式コメントもサポート</li>
<li>逆にその部分だけ <a href="https://github.com/busterjs/buster-html-doc" title="buster-html-doc">buster-html-doc</a></li>
</ul>
</li>
<li><a href="https://github.com/johlrogge/buster-amd" title="buster-amd">buster-amd</a><ul>
<li>amdモジュールのテストを実行をサポート</li>
<li>AMDモジュールは少し工夫しないとテストしにくいのを勝手にやってくれる</li>
<li><a href="http://tech-gym.com/2011/11/javascript/572.html" title="RequireJS + QUnit + QUnit-TAP + PhantomJSでのテスト構成について">RequireJS + QUnit + QUnit-TAP + PhantomJSでのテスト構成について | Technology-Gym</a></li>
</ul>
</li>
<li><a href="http://busterjs.org/docs/extensions" title="Buster extensions">Buster extensions</a></li>
<li><a href="http://busterjs.org/docs/architecture/" title="Buster.JS Architecture overview">Buster.JS Architecture overview</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              25/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Editor Integrate</h1></header>
            
            
            <section><ul>
<li><a href="http://busterjs.org/docs/overview/" title="Editor integration">Editor integration</a></li>
<li>Christian Johansenは<a href="http://cjohansen.no/an-introduction-to-elisp" title="Emacs">Emacs</a>使い<ul>
<li><a href="https://gitorious.org/buster/buster-mode" title="buster-mode">buster-mode</a></li>
</ul>
</li>
</ul>
<p><a href="http://www.jetbrains.com/webstorm/" title="WebStorm">WebStorm</a>の場合</p>
<ul>
<li>JsTestDriverは公式プラグインでサポートされてる</li>
<li>WebStormでも最低限BusterJSの補完ぐらいはできるようにしたい</li>
<li>JSDocを書けばある程度補完はできるようになる<ul>
<li>WebStromについて詳しくは <a href="http://azu.github.com/slide/webstorm/webstorm.html#slide1" title="WebStorm指南書">WebStorm指南書</a>参照</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              26/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>WebStorm Integrate</h1></header>
            
            
            <section><h3>JSDoc for BusterJS</h3>
<ul>
<li><a href="https://github.com/azu/BusterJSDoc" title="azu/BusterJSDoc">azu/BusterJSDoc</a></li>
</ul>
<p>BusterJSの構文についてのJSDocファイル</p>
<div class="highlight"><pre><span class="cm">/**</span>
<span class="cm">* Fails if actual is falsy (0, &quot;&quot;, null, undefined, NaN).</span>
<span class="cm">* @param actual actual is falsy (0, &quot;&quot;, null, undefined, NaN)</span>
<span class="cm">* @param [message]</span>

<span class="cm">*/</span>
<span class="nx">buster</span><span class="p">.</span><span class="nx">assertions</span><span class="p">.</span><span class="nx">assert</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">assert</span><span class="p">(</span><span class="nx">actual</span><span class="p">,</span> <span class="nx">message</span><span class="p">){}</span>
<span class="cm">/**</span>
<span class="cm">* Fails if actual is not the same object (===) as expected</span>
<span class="cm">* @param expected</span>
<span class="cm">* @param actual</span>
<span class="cm">* @param [message]</span>
<span class="cm">*/</span>
<span class="nx">buster</span><span class="p">.</span><span class="nx">assertions</span><span class="p">.</span><span class="nx">assert</span><span class="p">.</span><span class="nx">same</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">same</span><span class="p">(</span><span class="nx">expected</span><span class="p">,</span> <span class="nx">actual</span><span class="p">,</span> <span class="nx">message</span><span class="p">){}</span>
</pre></div>

<p>Webstormの　Settings -&gt; JavaScript -&gt;Libraries -&gt; から参照する事でBusterJSのメソッドを補完候補に追加できる</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              27/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>External Tools</h2></header>
            
            
            <section><ul>
<li>WebStormから外部プロセスを呼ぶ機能</li>
<li>Open ConsoleでWebStormを閉じるまでプロセスを動かすこともできる</li>
</ul>
<p><img alt="Buster Test This" src="https://img.skitch.com/20120323-xk7ym37hyy4cxm2ybj483acsuq.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              28/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>External Tools for BusterJS</h2></header>
            
            
            <section><h3>BusterServer</h3>
<p>選択したディレクトリで<code>buster server</code>を実行する</p>
<pre><code>Program: /Users/azu/.nodebrew/current/bin/node
Parameter: /Users/azu/.nodebrew/current/bin/buster-server
Working Directory: $FileDir$
</code></pre>
<h3>Open Browser</h3>
<p>BusterJSのキャプチャURLを開くだけ</p>
<pre><code>Program: /usr/bin/open
Parameter: http://localhost:1111/capture
</code></pre>
<h3>Buster Test This</h3>
<p>選択してるテストファイルを実行する</p>
<pre><code>Program: /Users/azu/.nodebrew/current/bin/node
Parameter: /Users/azu/.nodebrew/current/bin/buster-test --reporter specification -t $FilePath$
Working Directory: $FileDir$
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              29/30
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: busterJS.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>感想</h1></header>
            
            
            <section><ul>
<li>思っていたよりassert/refuteは使い易い</li>
<li>JsTestDriverと似ている部分は多い</li>
<li>TDDJS本はBusterJSを試すのに向いている<ul>
<li>本の内容がフレームワークに反映されてる感じ</li>
</ul>
</li>
<li>ドキュメントが積極的に書かれてるのはGood</li>
<li>まだベータ段階なので変更等は常にあります</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="busterJS.md">busterJS.md</a>
            </aside>
            
            <aside class="page_number">
              30/30
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">JavaScript Testing FrameworkのBusterJSを使う</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">鎌倉BusterJS</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">自己紹介</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4"><a href="http://busterjs.org/" title="Buster.JS">BusterJS</a>とは</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
        
        <tr id="toc-row-5" class="sub">
          <th><a href="#slide5">BusterJSの今</a></th>
          <td><a href="#slide5">5</a></td>
        </tr>
        
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">BusterJSのテスト実行手順</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">BusterJS と JsTestDriver</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
        
        <tr id="toc-row-8" class="sub">
          <th><a href="#slide8">類似点</a></th>
          <td><a href="#slide8">8</a></td>
        </tr>
        
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">設定ファイル</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">基本的なテストの書き方</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">assert vs refute</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">BDD Syntax</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">testCaseのネスト</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
        
        <tr id="toc-row-14" class="sub">
          <th><a href="#slide14">実行結果</a></th>
          <td><a href="#slide14">14</a></td>
        </tr>
        
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">コンソールAPI</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
        
        <tr id="toc-row-16" class="sub">
          <th><a href="#slide16">コンソール出力の整形</a></th>
          <td><a href="#slide16">16</a></td>
        </tr>
        
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">テスト結果の出力形式</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">非同期テスト</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
        
        <tr id="toc-row-19" class="sub">
          <th><a href="#slide19">非同期テスト - Promiss</a></th>
          <td><a href="#slide19">19</a></td>
        </tr>
        
        <tr id="toc-row-20" class="sub">
          <th><a href="#slide20">When.js</a></th>
          <td><a href="#slide20">20</a></td>
        </tr>
        
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Sinon.js</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">testbed</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
        
        <tr id="toc-row-23" class="sub">
          <th><a href="#slide23">テストを実行する場所</a></th>
          <td><a href="#slide23">23</a></td>
        </tr>
        
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">BusterJSの拡張</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">BusterJSの拡張紹介</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Editor Integrate</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">WebStorm Integrate</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
        
        <tr id="toc-row-28" class="sub">
          <th><a href="#slide28">External Tools</a></th>
          <td><a href="#slide28">28</a></td>
        </tr>
        
        <tr id="toc-row-29" class="sub">
          <th><a href="#slide29">External Tools for BusterJS</a></th>
          <td><a href="#slide29">29</a></td>
        </tr>
        
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">感想</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>