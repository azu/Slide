<!DOCTYPE html>
<html>
<head lang="ja">
    <meta charset="UTF-8">
    <title>オープンソースと寄付と慈善活動と</title>
    <noscript>
        <style>
            .main-content {
                display: none;
            }
        </style>
    </noscript>
    <link rel="stylesheet" href="https://azu.github.io/pdf-slide-html/index.css"/>
    <link rel="canonical" href="https://azu.github.io/slide/2021/open-philanthropy/open-philanthropy.html">
    <link rel="author" href="https://www.hatena.ne.jp/efcl/" />
</head>
<body itemscope itemtype="http://schema.org/Article">
<div class="main-content">
    <meta itemprop="name headline" content="オープンソースと寄付と慈善活動と"/>
    <iframe id="main-slide"
            src="https://azu.github.io/slide-pdf.js/?slide=https://azu.github.io/slide/2021/open-philanthropy/open-philanthropy.pdf"
            scrolling="no"
            allowtransparency="true"
            width="100%"
            height="100%"
            style="border:0;">
    </iframe>
    <aside class="slide-controller">
        <span class="slide-date-published">公開日:<time itemprop="datePublished" datetime="2021-03-31" id="datePublished">
            2021-03-31
        </time></span>
        <span class="slide-date-modified">変更日:<time itemprop="dateModified" datetime="2021-03-31" id="dateModified">
            2021-03-31
        </time></span>
        <a href="https://azu.github.io/slide/2021/open-philanthropy/open-philanthropy.pdf" title="オープンソースと寄付と慈善活動と">
            <svg xmlns="http://www.w3.org/2000/svg"
                 version="1.1"
                 class="svg-icon"
                 viewBox="0 0 512 512"
                 width="24"
                 height="24">
                <path
                        d="M 224 64 L 224 272 L 128 176 L 128 256 L 256 384 L 384 256 L 384 176 L 288 272 L 288 64 L 224 64 z M 64 320 L 64 448 L 448 448 L 448 320 L 416 320 L 416 416 L 96 416 L 96 320 L 64 320 Z"
                        style="fill:#000000"></path>
            </svg>
            Download PDF</a>
        <button class="fullscreen-button" id="js-fullscreen-button">
            <svg xmlns="http://www.w3.org/2000/svg"
                 version="1.1"
                 class="svg-icon"
                 viewBox="0 0 533 533"
                 width="24"
                 height="24">
                <g>
                    <path d="M533.333,0v216.667L450,133.333l-100,100l-50-50l100-100L316.667,0H533.333z M233.333,350l-100,100l83.333,83.333H0
		V316.667L83.333,400l100-100L233.333,350z"></path>
                </g>
            </svg>
            Full Screen
        </button>
    </aside>
</div>
<article class="markdown-body" itemprop="articleBody"><h1 id="オープンソースと寄付と慈善活動と">オープンソースと寄付と慈善活動と</h1>
<h2 id="fit-寄付するために寄付管理プラットフォームを作る話">[fit] 寄付するために寄付管理プラットフォームを作る話</h2>
<hr>
<h1 id="自己紹介">自己紹介</h1>
<p><img alt="アイコン right" src="https://github.com/azu.png"></p>
<ul>
<li>Name : <strong>azu</strong></li>
<li>Twitter : @<a href="https://twitter.com/azu_re">azu_re</a></li>
<li>Website: <a title="Web scratch" href="http://efcl.info/">Web scratch</a>, <a title="JSer.info" href="http://jser.info/">JSer.info</a></li>
</ul>
<hr>
<h2 id="disclaimer">Disclaimer</h2>
<ul>
<li>この資料は自分用にまとめたものです</li>
<li>寄付、慈善活動が良いか悪いかについて議論しません</li>
<li>まだ学問のように体系がしっかりしているわけでもないので、現時点の解釈が多く入ります<ul>
<li>それっぽい事実はあるけどあくまでそれっぽいだけ</li>
</ul>
</li>
</ul>
<hr>
<h2 id="アウトライン">アウトライン</h2>
<ul>
<li>寄付/慈善活動について勉強していた</li>
<li>オープンソースの課題との類似性が高そうと思った</li>
<li>オープンソースでの重要性として透明性を認識していて、寄付に関しても透明性が重要視されている</li>
<li>また寄付を躊躇する問題は予算のプレコミットメントで解決できるかも</li>
<li><a href="https://philan.net/">philan.net</a> つくってみた</li>
<li>課題が見えてきた</li>
</ul>
<hr>
<h1 id="慈善活動への興味">慈善活動への興味</h1>
<ul>
<li>最近、寄付研究とかファンドレイジング<a href="NPO%E3%81%AA%E3%81%A9%E3%81%A7%E5%AF%84%E4%BB%98%E3%81%AA%E3%81%A9%E3%81%AE%E6%B4%BB%E5%8B%95%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E8%B3%87%E9%87%91%E3%82%92%E9%9B%86%E3%82%81%E3%82%8B%E3%81%93%E3%81%A8%E3%80%81%E3%81%BE%E3%81%9F%E3%81%AF%E3%81%9D%E3%82%8C%E3%82%92%E4%BB%95%E4%BA%8B%E3%81%AB%E3%81%99%E3%82%8B%E4%BA%BA">^Fundraising</a>というような分野があるのを知った</li>
<li>慈善活動や寄付について調べるのに色々な書籍や論文を読んで、寄付をするための仕組みを作るなどした</li>
<li>詳しい経緯は次の記事にまとめた</li>
<li><a href="https://efcl.info/2021/02/19/donation-philanthropy-study/">寄付研究や慈善活動について研究するために色々な書籍や論文を読んだメモ書き | Web Scratch</a></li>
</ul>
<hr>
<h1 id="慈善活動について">慈善活動について</h1>
<ul>
<li>慈善活動は大きく分けて2つに分類されている(ことが多い)</li>
<li>Charity: Reduce Pain<ul>
<li>緊急性の高い問題に対して、その問題の影響を小さく軽減するためにする即時的なアプローチ</li>
</ul>
</li>
<li>Philanthropy: Resolve Issue<ul>
<li>問題の根本原因を特定し、その原因を解決することで社会問題を解消する目的のアプローチ</li>
</ul>
</li>
</ul>
<p><img alt="right, fit, CharityとPhilanthropy" src="./img/philanthropy.png"></p>
<hr>
<h2 id="charityとphilanthropy">CharityとPhilanthropy</h2>
<blockquote>
<p>例: ある地域が干ばつに見舞われて水が不足している</p>
</blockquote>
<ul>
<li>Charity的なアプローチ<ul>
<li>水を届ける</li>
</ul>
</li>
<li>Philanthropy的なアプローチ<ul>
<li>水が不足しないように井戸を掘る</li>
<li>雪止め水を山から引いて川を作る</li>
</ul>
</li>
</ul>
<hr>
<h2 id="charityとphilanthropy-1">CharityとPhilanthropy</h2>
<blockquote>
<p>例: 特定のコンポーネントに負荷が集まりやすい設計になっており、アクセスが集中してサービスが落ちてしまった<a href="%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81%E3%81%AB%E3%81%9D%E3%82%8C%E3%81%A3%E3%81%BD%E3%81%84%E4%BE%8B%E3%82%92%E5%BD%93%E3%81%A6%E3%81%AF%E3%82%81%E3%81%9F%E3%81%A0%E3%81%91%E3%81%AA%E3%81%AE%E3%81%A7%E3%80%81%E5%AE%9F%E9%9A%9B%E3%81%AE%E6%84%8F%E5%91%B3%E5%90%88%E3%81%84%E3%81%A8%E3%81%AF%E9%96%A2%E4%BF%82%E3%81%8C%E3%81%AA%E3%81%84%E4%BE%8B%E3%81%A7%E3%81%99">^ex</a></p>
</blockquote>
<ul>
<li>Charity的なアプローチ<ul>
<li>暫定的なパッチを当てて落ちないようにする</li>
<li>お金を払ってサーバをより性能が高いマシンにする</li>
</ul>
</li>
<li>Philanthropy的なアプローチ<ul>
<li>サーバが落ちないよう(パフォーマンスがでるよう)に設計を見直して修正する</li>
<li>負荷が高くなったら自動的にスケールするように設定する</li>
</ul>
</li>
</ul>
<hr>
<h2 id="charityとphilanthropy-2">CharityとPhilanthropy</h2>
<ul>
<li>個人的に今まで「慈善活動」や「寄付」をCharityの読み方をしていた</li>
<li>同じ「慈善活動」を意味する言葉でもアプローチの違いがあることを知った</li>
<li>実際に問題の解決にはどちらのアプローチも必要<ul>
<li>Charityは即時的に影響を軽減する</li>
<li>Philanthropyは根本的な問題を解決するが時間がかかる</li>
</ul>
</li>
</ul>
<p>^ 個人的な思考としては、問題解決にはどちらもセットだが、Philanthropy的なアプローチに時間を使いたい(というよりは時間が必要)</p>
<ul>
<li>あるバグがあったときに、FAQというドキュメントで回避する</li>
<li>だけでおわりではなく、バグ自体を修正することに時間を使う</li>
</ul>
<hr>
<h2 id="philanthropyとオープンソース">Philanthropyとオープンソース</h2>
<h3 id="オープンソースで見る問題と似たような話があるなーと思った-open-source">オープンソースで見る問題と似たような話があるなーと思った <a href="%E3%81%93%E3%81%93%E3%81%A7%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AFOSI%E3%81%AE%5B%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E5%AE%9A%E7%BE%A9%5D(https://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E5%AE%9A%E7%BE%A9)%E3%82%92%E5%8F%82%E7%85%A7">^open source</a></h3>
<hr>
<h2 id="philanthropyとオープンソース-1">Philanthropyとオープンソース</h2>
<ul>
<li>継続性の問題<ul>
<li>オープンソースは属人性がある [^GitHub, 2015]</li>
<li>寄付のみではなく、助成金や事業収益で継続している慈善団体が多い <a href="%5BNPO%E3%81%AE%E5%8F%8E%E7%9B%8A%E3%81%AE%E3%81%86%E3%81%A1%E5%AF%84%E4%BB%98%E9%87%91%E3%81%AE%E5%89%B2%E5%90%88%E3%81%AF20%%E3%81%AB%E3%82%82%E6%BA%80%E3%81%9F%E3%81%AA%E3%81%84%5D(https://www.npo-homepage.go.jp/uploads/h29_houjin_houkoku.pdf)">^NPO, 2017</a></li>
</ul>
</li>
<li>お金が神聖視されていた<ul>
<li>近年では{慈善活動,オープンソース}でも利益を得る事自体は問題ないという意見を見ることが増えた<a href="%E5%87%BA%E5%85%B8%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%E3%81%9F%E3%81%A0%E3%81%AE%E6%83%B3%E5%83%8F%E3%81%A7%E3%81%99%E3%80%82">^要出典</a></li>
<li>慈善活動では得た利益を社会へ還元するのが目的[^Bill Drayton, 1987]</li>
<li>その過程で利益を使って人を雇うなどは、還元する価値を最大化するための活動と捉えられる</li>
</ul>
</li>
</ul>
<p><img alt="fit,right, オープンソースとPhilanthropy" src="./img/open-source-philanthropy.png"></p>
<p>[^GitHub, 2015]: <a href="https://increment.com/open-source/the-rise-of-few-maintainer-projects/">npmの93%のモジュールはメンテナが1人 @ 2014、GitHubで人気のあるプロジェクトの2/3はメンテナが1~2人 @ 2015</a></p>
<p>[^Bill Drayton, 1987]: 1987年Bill Draytonが社会起業家という概念を持ち込みこの傾向が強くなったと考えられる - <a href="https://www.palgrave.com/gp/book/9789811071188">Pragmatic Philanthropy</a></p>
<p>^  1987年にBill Draytonが健全な管理、透明性のある会計、戦略など基本的なビジネスの信条をNPOにも持ち込んだ。
営利組織は利益の最大化だが、非営利組織は社会への還元の最大化が目的。この社会への還元の過程において利益を発生させないというのは問題を難しくして動きにくくする。その目的から逸れない限り、利益を得るのは妥当で、その利益で優秀な人を雇って、その社会問題を解決するという話。
NPOは、助成金などのフローであるお金に制限されている部分があり、利益はストックして(社会問題に対して)自由に使えるお金を持つという話。
^ 強いて言うなら <a href="https://opensource.guide/getting-paid/">https://opensource.guide/getting-paid/</a> とか、こういうドキュメントなども見かけることが増えた。</p>
<hr>
<h2 id="philanthropyとオープンソース-2">Philanthropyとオープンソース</h2>
<p><img alt="fit,right, オープンソースとPhilanthropy" src="./img/open-source-philanthropy.png"></p>
<ul>
<li>寄付とコミュニティ<ul>
<li>オープンソースに寄付する人は開発者が中心<a href="%E5%87%BA%E5%85%B8%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%E3%81%9F%E3%81%A0%E3%81%AE%E6%83%B3%E5%83%8F%E3%81%A7%E3%81%99%E3%80%82">^要出典</a></li>
<li>慈善活動する動機は個人的な経験と紐付いていることが多い [^Miller＆Ratner、1998]</li>
<li>一方で、個人的な経験と紐付かないことに対しての慈善活動や寄付は躊躇する[^Ratner＆Miller、2001]</li>
<li>→ 特定のカテゴリの慈善活動に関連する人は特定のカテゴリに関係する人が中心となる傾向</li>
</ul>
</li>
</ul>
<p>[^Miller＆Ratner、1998]: <a href="https://www.researchgate.net/publication/344629108_Self-interest_is_overestimated_Two_successful_pre-registered_replications_and_extensions_of_Miller_and_Ratner_1998">Self-interest is overestimated</a></p>
<p>[^Ratner＆Miller、2001]: <a href="https://pubmed.ncbi.nlm.nih.gov/11474725/">The norm of self-interest and its effects on social action</a></p>
<hr>
<h2 id="philanthropyとオープンソース-3">Philanthropyとオープンソース</h2>
<p><img alt="fit,right, オープンソースとPhilanthropy" src="./img/open-source-philanthropy.png"></p>
<ul>
<li>透明性とオープンであること<ul>
<li>オープンソースはソースコードがOSIライセンスされているという意味もあるが、プロセスがオープンであることも重要視されている[^tantek, 2012] [^aturon, 2018]</li>
<li>寄付をしない理由として「寄付先への不信感」「寄付金の使い方が不明瞭」などの不信が主要な理由となっている　<a href="%5B%E5%AF%84%E4%BB%98%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E5%8B%95%E6%A9%9F%E3%81%AE%E6%A7%8B%E9%80%A0%5D(https://core.ac.uk/download/pdf/228068334.pdf)">^中島, 2019</a></li>
</ul>
</li>
</ul>
<p>[^tantek, 2012]: <a href="https://tantek.com/presentations/2012/01/open-web/#slide126">Conclusion</a> of <a href="https://tantek.com/presentations/2012/01/open-web/">Open Standards Stories &amp; Practices</a></p>
<p>[^aturon, 2018]: RustのRFCプロセスについて - <a href="https://aturon.github.io/tech/2018/05/25/listening-part-1/">aturon.log: listening and trust</a></p>
<hr>
<h1 id="信頼と透明性">信頼と透明性</h1>
<ul>
<li>個人的には、オープンソースでは信頼と透明性が重要だと考えている<ul>
<li>プロセスが公開されてなくてもオープンソースではある</li>
<li>しかし、信頼できるものはプロセスもオープンである傾向がある[^RFC]</li>
</ul>
</li>
<li>慈善活動においても信頼と透明性が重要<ul>
<li>特定の場所へ寄付しない理由としては、信頼と透明性が主な理由としてあがる</li>
<li>信頼の欠如(Trust Deficit)が歴史的に発生していて、アジア圏の寄付文化に影響がでていた[^Pragmatic Philanthropy, 2018]</li>
</ul>
</li>
</ul>
<p>[^RFC]: Rust, React, Angular, Vueなど著名なプロジェクト、ECMAScriptなどもオープンなプロセスを持っている</p>
<p>[^Pragmatic Philanthropy, 2018]: <a href="https://www.palgrave.com/gp/book/9789811071188">Pragmatic Philanthropy</a>はアジア圏の寄付文化についてまとめた書籍</p>
<hr>
<h1 id="似てるけど違うもの">似てるけど違うもの</h1>
<ul>
<li>オープンソースとPhilanthropyは同じものではない</li>
<li>しかし、似ているところがある</li>
<li>もっと詳しく知っておくことで、オープンソース活動にもいかせそう</li>
</ul>
<hr>
<h1 id="似てるのでもっと知りたい">似てるのでもっと知りたい</h1>
<ul>
<li>個人的にオープンソース活動はずっとやっている[^azu, 2020]</li>
<li>慈善活動について調べていると色々な話題につながっていて面白い</li>
<li>慈善活動についてもっと知りたい</li>
<li>→ シンプルに寄付を実践してみることで継続的に学ぶ</li>
</ul>
<p>[^azu, 2020]: 今年のオープンソース活動振り返り <a href="https://efcl.info/2014/12/31/oss-in-2014/">2014</a>,<a href="https://efcl.info/2015/12/31/oss-in-2015/">2015</a>,<a href="https://efcl.info/2016/12/31/oss-in-2016/">2016</a>,<a href="https://efcl.info/2017/12/30/oss-in-2017/">2017</a>,<a href="https://efcl.info/2018/12/31/oss-in-2018/">2018</a>,<a href="https://efcl.info/2019/12/31/oss-in-2019/">2019</a>,<a href="https://efcl.info/2020/12/31/open-source-in-2020/">2020</a></p>
<hr>
<h1 id="なぜ知りたいか">なぜ知りたいか</h1>
<ul>
<li>自分自身もGitHub Sponsorsでいろいろな人にサポートされている[^厳密には寄付ではない]<ul>
<li><a href="https://github.com/sponsors/azu">Sponsor @azu on GitHub Sponsors</a></li>
</ul>
</li>
<li>個人だけではなく企業からスポンサードされている<ul>
<li><a href="https://blog.cybozu.io/entry/2021/03/19/110000">GitHub Sponsorsを使って「企業」として寄付をした話 - Cybozu Inside Out | サイボウズエンジニアのブログ</a></li>
</ul>
</li>
<li>オープンソース活動における支援の形としての寄付について興味があった</li>
</ul>
<p>[^厳密には寄付ではない]: 取得した収入は、寄付や贈与ではなく雑所得して扱っている。<a href="https://github.com/azu/github-sponsors-tax">azu/github-sponsors-tax: GitHub Sponsorsの確定申告手順</a>にまとめた </p>
<hr>
<h1 id="寄付の実践">寄付の実践</h1>
<hr>
<h1 id="寄付を実践する際の課題">寄付を実践する際の課題</h1>
<ul>
<li>寄付は難しい<ul>
<li>お金を手放さないといけないという苦痛</li>
<li>どこへ寄付すればいいかという選択の難しさ</li>
<li>寄付したことによる結果の確認方法(レスポンス)</li>
</ul>
</li>
<li>寄付をするときに発生する課題がある</li>
</ul>
<hr>
<h1 id="お金を手放す苦痛の緩和">お金を手放す苦痛の緩和</h1>
<p><img alt="right,fit,pain-of-paying" src="img/pain-of-paying.png"></p>
<ul>
<li>人は何か対価を得られる(長期的)と分かっていても、お金を手放すという行為(短期的)に苦痛を感じる[^Pain of paying]</li>
<li>お金を手放す苦痛を緩和するには、事前に予算を決めておくプレコミットメントが有効[^The Science of Giving, 2011]</li>
<li>→ 寄付するお金の予算を管理するツールを作ってみれば寄付がしやすくなるかも</li>
</ul>
<p>[^Pain of paying]: <a href="https://en.wikipedia.org/wiki/Pain_of_paying#Other_Theories_on_Payment_Methods">Pain of paying - Wikipedia</a></p>
<p>[^Wertenbroch, 1998]: <a href="https://pubsonline.informs.org/doi/abs/10.1287/mksc.17.4.317">Consumption Self-Control by Rationing Purchase Quantities of Virtue and Vice</a></p>
<p>[^The Science of Giving, 2011]: <a href="https://www.amazon.co.jp/dp/B004QM9VT4/">The Science of Giving: Experimental Approaches to the Study of Charity</a></p>
<p>^ 寄付をしやすくするには知覚する利益を大きくする方法と、知覚する不利益を小さくする方法がある。
お金を手放すという知覚する不利益によって、寄付をするという行為が阻害される可能性を研究した研究がある。
Zellermayer (1996)、Prelec and Loewenstein’s (1998)、
長期的に利他的に慈善活動をしたいという目標があるときに、
寄付という行為は短期的な苦痛(お金を手放す)を発生させてしまうため長期的な目標を阻害してしまう。
この<a href="https://en.wikipedia.org/wiki/Pain_of_paying">Pain of paying</a>は現金と小切手が高く、クレカや携帯での決算は薄くなる
また、事前に使う予算を決定しておくことでこの苦痛を緩和できる。
できれば、お金を手に入れる前に事前コミットメントをしておくのが良い(手に入れてからだと曖昧になる)</p>


<hr>
<h1 id="寄付するお金の予算を管理する">寄付するお金の予算を管理する</h1>
<hr>
<p><img alt="fit, philan.net" src="./img/philan.net.png"></p>
<hr>
<h1 id="philannet"><a href="https://philan.net/">philan.net</a></h1>
<ul>
<li>寄付の予算を決めて、寄付の内容(寄付先/金額/日付/理由)を記録するサービス</li>
<li>記録したデータは各自のGoogle SpreadSheetに保存される<ul>
<li><a href="https://philan.net/">philan.net</a>が潰れてもデータが残る ♻️</li>
</ul>
</li>
</ul>
<hr>
<p><img alt="philan.net - movie" src="./img/philan.net.mp4"></p>
<hr>
<h1 id="philannetの主な目的"><a href="https://philan.net/">philan.net</a>の主な目的</h1>
<p><img alt="right,fit,philan.netのユーザーページ" src="./img/philan.net-user.png"></p>
<ul>
<li>寄付の予算を事前に決めることで、寄付するときに苦痛を減らす</li>
<li>寄付する側、寄付される側どちらも透明性が重要であるため、寄付の透明性を公開で作ってみよう的な仕組み<a href="philan.net%E3%81%AE%E5%AF%84%E4%BB%98%E3%81%AE%E3%83%A1%E3%83%A2%E6%AC%84%E3%81%8C%22Why?%22%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AE%E3%81%AF%E3%81%93%E3%82%8C%E3%81%8C%E7%90%86%E7%94%B1">^why</a></li>
<li>Philanthropyは長期的に行う必要があるので、開発しながら学ぶ</li>
</ul>
<hr>
<h1 id="philannetの構成"><a href="https://philan.net/">philan.net</a>の構成</h1>
<p><img alt="inline, fit" src="https://efcl.info/wp-content/uploads/2021/03/Next.js-Cloudflare-Workers-KV.png"></p>
<blockquote>
<p><a href="https://nextjs.org/">Next.js</a> + <a href="https://www.cloudflare.com/ja-jp/products/workers-kv/">Cloudflare Workers KV</a> + <a href="https://www.google.com/intl/ja_jp/sheets/about/">Googleスプレットシート</a></p>
</blockquote>
<hr>
<h1 id="why-nextjs">Why? Next.js</h1>
<p><img alt="right, fit, VercelのAnalytics" src="https://efcl.info/wp-content/uploads/2021/03/12-1615558509.png"></p>
<ul>
<li>Performance<ul>
<li>SSG/SSR/ISR/CSRを使い分け<a href="SSG%E3%81%AF%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E6%99%82%E3%80%81SSR%E3%81%AF%E4%B8%80%E8%B2%AB%E6%80%A7%E3%80%81ISR%E3%81%AFN%E5%88%86%E4%BB%A5%E5%86%85%E3%81%AB%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%82%8C%E3%81%B0%E8%89%AF%E3%81%84%E7%B5%90%E6%9E%9C%E6%95%B4%E5%90%88%E6%80%A7(%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84)%E3%80%81CSR%E3%81%AF%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E6%99%82">^note</a></li>
</ul>
</li>
<li>Easy to Develop<ul>
<li>Lambda/Cloudflare Workesに比べてserverlessのAPI開発が楽</li>
<li>Deployがgit pushだけなので2分でVercelにデプロイできる</li>
</ul>
</li>
</ul>
<hr>
<h1 id="why-nextjs-not-clouflare-workers">Why? Next.js, Not Clouflare Workers</h1>
<p><img alt="right, fit, Node.js, Cloudflare Workers, Deno" src="./img/node-cloudflare-workers-deno.png"></p>
<ul>
<li><a href="https://vercel.com/docs/serverless-functions/introduction">VercelはLambda</a>なのでNode.jsの資産が使える<ul>
<li>セッション管理、認証、Google APIクライアントなどを一から書かなくていい</li>
</ul>
</li>
<li><a href="https://workers.cloudflare.com/">Cloudflare Workers</a>は早いがNode.jsの資産が使えない<ul>
<li>Node.jsのAPIに依存したモジュールは使えない</li>
</ul>
</li>
<li><a href="https://deno.com/deploy">Deno Deploy</a>はCloudflare Workers Compatible API<ul>
<li>しかし、Denoの<a href="https://deno.land/x">エコシステム</a>が使える所に差が出てくる</li>
</ul>
</li>
</ul>
<hr>
<h1 id="why-cloudflare-workers-kv">Why? <a href="https://www.cloudflare.com/ja-jp/products/workers-kv/">Cloudflare Workers KV</a></h1>
<ul>
<li><a href="https://www.cloudflare.com/ja-jp/products/workers-kv/">Cloudflare Workers KV</a>はCloudflareのCDNをKVSとして使える(結果整合性)</li>
<li>頻繁に書き込む必要はないが、すばやく頻繁に読み取る必要があるユースケースに適している</li>
<li>特別 Workers KV を使ってる理由はない(面白そうだったから)<ul>
<li>最初はCloudflare Workers上で開発していた名残</li>
</ul>
</li>
</ul>
<hr>
<h1 id="why-googleスプレットシート">Why? <a href="https://www.google.com/intl/ja_jp/sheets/about/">Googleスプレットシート</a></h1>
<p><img alt="right, fit, _twitter@jack" src="./img/twitter-jack.png"></p>
<ul>
<li>寄付の記録はユーザー自身のものであることを明確にするため<ul>
<li>SpreadSheetそのものを編集できる[^schema]</li>
<li><a href="https://philan.net/">philan.net</a>が消えてもデータが残る</li>
</ul>
</li>
<li>Twitter/Squareの<a href="https://twitter.com/jack/status/1247616214769086465">@jack</a>も<a href="https://docs.google.com/spreadsheets/d/1-eGxq2mMoEGwgSpNVL5j2sa6ToojZUZ-Zun8h2oBAR4/edit#gid=0">SpreadSheetで寄付を管理</a>している</li>
</ul>
<p>[^schema]: <a href="https://github.com/azu/philan.net/issues/22">Definition of SpreadSheet Schema · Issue #22 · azu/philan.net</a></p>
<hr>
<h1 id="spreadsheet-is-not-database">Spreadsheet is not Database</h1>
<blockquote>
<p><a href="https://zapier.com/blog/database-vs-spreadsheet/">Spreadsheets aren't databases—stop using them like one | Zapier</a></p>
</blockquote>
<ul>
<li>ロックフリーな書き込み方法が一種類しかない<ul>
<li><code>spreadsheets.append</code>のみが同時書き込み可能だが、formatなどを指定できない<a href="https://issuetracker.google.com/issues/36760568">^issue</a></li>
</ul>
</li>
<li>バージョン管理はあるが、<a href="https://stackoverflow.com/questions/60149716/restoring-specific-version-of-spreadsheet-using-the-google-api">APIでrevertができない</a><ul>
<li>マイグレーションがアプリのDBみたいな慎重さが必要</li>
</ul>
</li>
<li><a href="https://support.google.com/docs/answer/3093281?hl=en">GOOGLEFINANCE</a>関数が通貨換算ができるが、結構失敗する</li>
</ul>
<p>^ マイグレーションするために、バックアップツール、シートにコピーしてからマイグレーションし、失敗したらシートを消してrevertする処理などを書いている。APIでrevertができればどれだけ楽になるか</p>
<hr>
<h1 id="philannet-における-spreadsheet">philan.net における Spreadsheet</h1>
<ul>
<li>1ユーザー1SpreadSheet<ul>
<li>これじゃない場合は基本的にSpreadSheetだと崩壊する</li>
</ul>
</li>
<li>1 Spreadsheetにはデータの数にも限界がある(個人の記録なら限界には行かない前提)</li>
<li>データはすべて取るしかない、フィルターして取るなどができない</li>
<li>1 SpreadSheetでは1種類のものごとに関係するデータのみを扱う</li>
</ul>
<hr>
<h1 id="s3--athena"><a href="https://aws.amazon.com/jp/s3/">S3</a> + <a href="https://aws.amazon.com/jp/athena/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc">Athena</a></h1>
<ul>
<li>寄付の記録を追加するときに、統計処理用の公開データをS3に書き込んでいる</li>
<li>S3に集めた公開データをAthenaを使って分析する</li>
<li>サイト全体の統計データを出すのに利用している</li>
</ul>
<hr>
<p><img alt="inline, philan.netの統計データ" src="img/philan.net-stats.png"></p>
<hr>
<h1 id="その他">その他</h1>
<ul>
<li>UI: <a href="https://chakra-ui.com/">Chakra UI</a></li>
<li>アクセス解析: <a href="https://www.cloudflare.com/web-analytics/">Cloudflare Web Analytics</a><ul>
<li>Cookieなどを使わない</li>
</ul>
</li>
<li>Logging: <a href="https://logflare.app/">Logflare</a><ul>
<li>Vercelには永続ログの仕組みがない</li>
</ul>
</li>
<li>Domain: <a href="https://domains.google.com/registrar?hl=ja">Google Domains</a></li>
</ul>
<hr>
<h1 id="philannetの詳細"><a href="https://philan.net/">philan.net</a>の詳細</h1>
<ul>
<li><a href="https://efcl.info/2021/03/10/philan.net/">寄付をするために、寄付の予算と寄付の記録をSpreadSheetベースでつける philan.net というサービスを作った | Web Scratch</a></li>
<li><a href="https://efcl.info/2021/03/12/next.js-vercel-cloudflare-workers-kv/">Next.js + Vercel + Cloudflare Workers KV + Googleスプレットシートで寄付管理サービスを作った | Web Scratch</a></li>
</ul>
<hr>
<h1 id="サイドプロジェクトとserverless">サイドプロジェクトとServerless</h1>
<ul>
<li><a href="https://swizec.com/blog/why-serverless-fits-side-projects-perfectly">Why serverless fits side-projects perfectly | Swizec Teller</a></li>
<li>Serverlessはコストが安い、つまり長期的に続けられる<ul>
<li>基本的なコストはだいたいDatabaseに依存する</li>
<li><a href="https://jamstack.org/">Jamstack</a>で使える<a href="https://free-for.dev/">Free for developers</a>なサービスが多い<a href="Free%E3%81%A0%E3%81%8B%E3%82%89%E4%BD%BF%E3%81%86%E3%81%A8%E3%81%84%E3%81%86%E3%82%88%E3%82%8A%E3%81%AF%E3%80%81%E5%8E%9F%E7%90%86%E7%9A%84%E3%81%AB%E5%AE%89%E3%81%8F%E3%81%AA%E3%82%8B%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%99%E3%82%8B%E3%81%BB%E3%81%86%E3%81%8C%E9%87%8D%E8%A6%81">^caution</a></li>
</ul>
</li>
<li>JSer.infoでも長期的に続けるために更新コストの最小化している<ul>
<li>コストを小さくすることにはコストをかける</li>
<li><a href="https://jser.info/2021/01/16/jser-10th/">JSer.info 10周年: JavaScript情報の集め方、書き方、まとめ方</a></li>
</ul>
</li>
</ul>
<hr>
<h1 id="philannetのコスト">philan.netのコスト</h1>
<p><img alt="right, fit aws-cost" src="img/aws-cost.png"></p>
<ul>
<li>ドメイン代: $14/year</li>
<li>Vercel: $0 [^rate limit]</li>
<li>SpreadSheet: $0</li>
<li>Cloudflare: $0</li>
<li>AWS: $0.02/month</li>
<li>→ Total: $15/year (2021-03現在の想定)</li>
</ul>
<p>[^rate limit]: rate limitには達しない想定。<a href="https://efcl.info/2021/03/12/next.js-vercel-cloudflare-workers-kv/">https://efcl.info/2021/03/12/next.js-vercel-cloudflare-workers-kv/</a>を参照</p>
<hr>
<h1 id="寄付する動機構造">寄付する動機構造</h1>
<ul>
<li>自分はCharityよりもPhilanthropyに動機を寄せている</li>
<li>Philanthropyは長期的な活動(水不足のために川を作るような話)</li>
<li>継続的に開発することで、継続的に学べる環境を作ることが目的</li>
<li>継続的に寄付するために<a href="https://philan.net/">philan.net</a>を作った</li>
<li><a href="https://github.com/azu/philan.net">azu/philan.net: Public Donation Management tool for Philanthropist.</a><ul>
<li>開発そのものもオープンソースで公開してやっている</li>
</ul>
</li>
</ul>
<hr>
<h1 id="まとめ">まとめ</h1>
<ul>
<li>慈善活動について調べていると歴史、行動経済学、心理学、会社、企業、NPO、投資、資本主義、社会問題、コミュニティ、マネージメント、テクノロジーになど色々の話が出てくる(社会って感じ)</li>
<li>自分の興味であるオープンでも近い課題があるので、学ぶために色々やってみることにした</li>
<li>まずは寄付するために寄付を管理する<a href="https://philan.net/">philan.net</a>を作った</li>
</ul>
<hr>
<h1 id="字余り">字余り</h1>
<hr>
<h1 id="寄付の課題-寄付先が分からない">寄付の課題: 寄付先が分からない</h1>
<ul>
<li><a href="https://solio.me/">SOLIO</a><ul>
<li>カテゴリを選ぶだけで寄付できるという性質を持っている</li>
<li><a href="https://note.com/solio/n/n330e285d4451">寄付するジャンルを選ぶ３つの理由　solioのユーザーさんに聞いてみた｜solio｜note</a></li>
</ul>
</li>
<li><a href="https://github.com/azu/philan.net/blob/main/docs/ja/knowledge.md">philan.net/knowledge.md at main · azu/philan.net</a></li>
<li><a href="https://github.com/azu/philan.net/discussions/categories/%E5%AF%84%E4%BB%98%E3%81%AE%E6%83%85%E5%A0%B1">Discussions · azu/philan.net</a></li>
</ul>
<hr>
<h1 id="お金以外の寄付">お金以外の寄付</h1>
<ul>
<li>モノの寄付<ul>
<li><a href="https://brand-pledge.jp/">Brand Pledge | 洋服・ブランド品寄付サービス</a></li>
</ul>
</li>
<li><a href="https://ja.wikipedia.org/wiki/%E3%83%97%E3%83%AD%E3%83%9C%E3%83%8E">プロボノ - Wikipedia</a><ul>
<li><a href="https://www.servicegrant.or.jp/">サービスグラント - 「プロボノ」 経験やスキルを活かしたボランティアを始めよう</a></li>
</ul>
</li>
</ul>
<hr>
<h1 id="参考文献-0">参考文献 0</h1>
<ul>
<li><a href="https://efcl.info/2021/02/19/donation-philanthropy-study/">寄付研究や慈善活動について研究するために色々な書籍や論文を読んだメモ書き | Web Scratch</a> にまとめてある</li>
</ul>
<hr>
<h1 id="参考文献-1">参考文献 1</h1>
<ul>
<li><a href="https://note.com/fwatanabe/n/n3a809181f8e6">寄付の魅力｜渡邉文隆 | ファンドレイザー｜note</a></li>
<li><a href="http://jepa.jp/wp-content/uploads/2019/10/JEPS2019_1_TAKAHASHIetal.pdf">Microsoft Word - JEPS2019_1_TAKAHASHIetal - JEPS2019_1_TAKAHASHIetal.pdf</a></li>
<li><a href="https://www.youtube.com/watch?v=EbcTYv2ws1U">ResearchFund3.0 - 研究費のイマを言語化し、ミライを予想する - Key Session - YouTube</a></li>
<li>🌟 <a href="https://www.amazon.co.jp/dp/B07KZMKKHK/">寄付をしてみよう、と思ったら読む本 (日本経済新聞出版) | 渋澤健, 鵜尾雅隆 | ビジネス・経済 | Kindleストア | Amazon</a></li>
<li><a href="https://www.amazon.co.jp/dp/069118349X/">Amazon | Just Giving: Why Philanthropy Is Failing Democracy and How It Can Do Better | Reich, Rob | Social Philosophy</a></li>
<li>🌟 <a href="https://www.palgrave.com/gp/book/9789811071188">Pragmatic Philanthropy - Asian Charity Explained | Ruth A. Shapiro | Palgrave Macmillan</a></li>
<li><a href="https://www.jstage.jst.go.jp/article/janpora/16/1/16_57/_article/-char/ja/">経済的な豊かさと寄付の心理的効用の関連</a></li>
<li><a href="https://www.amazon.co.jp/dp/B08M3NHFZJ/">コミュニティ・オーガナイジング――ほしい未来をみんなで創る５つのステップ | 鎌田華乃子 | NGO・NPO | Kindleストア | Amazon</a></li>
</ul>
<hr>
<h1 id="参考文献-2">参考文献 2</h1>
<ul>
<li><a href="https://www.amazon.com/dp/B00HTLCL32/">Amazon.com: Charity and Philanthropy For Dummies eBook: Muth, Karl T., Lindenmayer, Michael T. S., Kluge, John: Kindle Store</a></li>
<li><a href="https://press.princeton.edu/books/hardcover/9780691148625/why-philanthropy-matters">Why Philanthropy Matters | Princeton University Press</a></li>
<li><a href="https://www.amazon.co.jp/dp/B08D94MWYF/">非営利団体の資金調達ハンドブック | 徳永 洋子 | NGO・NPO | Kindleストア | Amazon</a></li>
<li>🌟 <a href="https://www.amazon.com/dp/B004QM9VT4/">The Science of Giving: Experimental Approaches to the Study of Charity (The Society for Judgment and Decision Making Series)</a></li>
<li>🌟 <a href="https://www.amazon.co.jp/dp/4757123590/">WORK DESIGN(ワークデザイン):行動経済学でジェンダー格差を克服する | イリス・ボネット, 大竹 文雄(解説), 池村 千秋 |本 | 通販 | Amazon</a></li>
<li><a href="https://www.amazon.co.jp/dp/B00VE1P84C/">「社会を変える」を仕事にする ― 社会起業家という生き方 | 駒崎弘樹 | NGO・NPO | Kindleストア | Amazon</a></li>
<li><a href="https://www.amazon.co.jp/dp/4105056514/">ロックフェラー回顧録</a></li>
<li><a href="https://www.amazon.co.jp/dp/4502331015/">企業と社会―サステナビリティ時代の経営学</a></li>
<li><a href="https://ssir.org/articles/entry/the_charitable_giving_market_is_efficient_after_all">The Charitable Giving Market is Efficient After All</a></li>
<li>🌟 <a href="https://www.youtube.com/channel/UCpUlfipj3uh63yTirqimGAg">NPO会計道/税理士 脇坂誠也 - YouTube</a></li>
<li><a href="https://jfra.jp/research/archive/">日本の寄付研究アーカイブ　|　日本ファンドレイジング協会</a></li>
</ul>
</article>
<script async src="https://azu.github.io/pdf-slide-html/index.js"></script>
</body>
</html>
